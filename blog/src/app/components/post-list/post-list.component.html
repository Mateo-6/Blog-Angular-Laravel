<div class="card-columns" *ngIf="posts">
	<article class="card w-100" *ngFor="let post of posts">
		<div class="card-header text-center">
			<a [routerLink]="['/post', post.id]">{{post.title}}</a>
		</div>
		<div class="card-body">
			<div class="post-image w-100" *ngIf="post.image">
				<img src="{{url+'post/image/'+post.image}}" class="w-100 h-100">
			</div>
			<div class="post-image w-100" *ngIf="!post.image">
				<img src="https://placeholder.com/400x250" class="w-100">
			</div>

			<div class="post-buttons mt-3 text-center">
				<a [routerLink]="['/post', post.id]" class="btn btn-success m-2">Read</a>
				<span *ngIf="identity && identity.sub == post.user_id">
					<a [routerLink]="['/edit-post/', post.id]" class="btn btn-warning m-2">Edit</a>

					<!-- Button to Open the Modal -->
					<button type="button" class="btn btn-danger m2" data-toggle="modal" [attr.data-target]="'#myModal-'+post.id">
					  Delete
					</button>

					<!-- The Modal -->
					<div class="modal" id="{{'myModal-'+post.id}}">
					  <div class="modal-dialog">
					    <div class="modal-content">

					      <!-- Modal Header -->
					      <div class="modal-header">
					        <h4 class="modal-title">Are you sure?</h4>
					        <button type="button" class="close" data-dismiss="modal">&times;</button>
					      </div>

					      <!-- Modal body -->
					      <div class="modal-body">
					        You'll delete this post
					      </div>

					      <!-- Modal footer -->
					      <div class="modal-footer">
					      	<a (click)="deletePost(post.id)" class="btn btn-danger m-2 text-white" data-dismiss="modal">Delete</a>
					        <button type="button" class="btn btn-warning text-white" data-dismiss="modal">Close</button>
					      </div>

					    </div>
					  </div>
					</div>

				</span>
			</div>
		</div>
	</article>
</div>